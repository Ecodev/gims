<?php

namespace DoctrineMigrations;

use Doctrine\DBAL\Migrations\AbstractMigration,
    Doctrine\DBAL\Schema\Schema;

/**
 * Auto-generated Migration: Please modify to your need!
 */
class Version20130522013215 extends AbstractMigration
{

    public function up(Schema $schema)
    {
        // this up() migration is auto-generated, please modify it to your needs
        $this->abortIf($this->connection->getDatabasePlatform()->getName() != "postgresql", "Migration can only be executed safely on 'postgresql'.");

        $this->addSql("ALTER TABLE filter_rule DROP CONSTRAINT FK_2EE2CBB561220EA6");
        $this->addSql("ALTER TABLE filter_rule DROP CONSTRAINT FK_2EE2CBB5D079F553");
        $this->addSql("ALTER TABLE filter_rule ADD CONSTRAINT FK_2EE2CBB561220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE filter_rule ADD CONSTRAINT FK_2EE2CBB5D079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE rule DROP CONSTRAINT FK_46D8ACCC61220EA6");
        $this->addSql("ALTER TABLE rule DROP CONSTRAINT FK_46D8ACCCD079F553");
        $this->addSql("ALTER TABLE rule ADD CONSTRAINT FK_46D8ACCC61220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE rule ADD CONSTRAINT FK_46D8ACCCD079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE part DROP CONSTRAINT FK_490F70C661220EA6");
        $this->addSql("ALTER TABLE part DROP CONSTRAINT FK_490F70C6D079F553");
        $this->addSql("ALTER TABLE part ADD CONSTRAINT FK_490F70C661220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE part ADD CONSTRAINT FK_490F70C6D079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE population DROP CONSTRAINT FK_B449A00861220EA6");
        $this->addSql("ALTER TABLE population DROP CONSTRAINT FK_B449A008D079F553");
        $this->addSql("ALTER TABLE population ADD CONSTRAINT FK_B449A00861220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE population ADD CONSTRAINT FK_B449A008D079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE answer DROP CONSTRAINT FK_DADD4A2561220EA6");
        $this->addSql("ALTER TABLE answer DROP CONSTRAINT FK_DADD4A25D079F553");
        $this->addSql("ALTER TABLE answer ADD CONSTRAINT FK_DADD4A2561220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE answer ADD CONSTRAINT FK_DADD4A25D079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE country DROP CONSTRAINT FK_5373C96661220EA6");
        $this->addSql("ALTER TABLE country DROP CONSTRAINT FK_5373C966D079F553");
        $this->addSql("ALTER TABLE country ADD CONSTRAINT FK_5373C96661220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE country ADD CONSTRAINT FK_5373C966D079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE questionnaire DROP CONSTRAINT FK_7A64DAF61220EA6");
        $this->addSql("ALTER TABLE questionnaire DROP CONSTRAINT FK_7A64DAFD079F553");
        $this->addSql("ALTER TABLE questionnaire ADD CONSTRAINT FK_7A64DAF61220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE questionnaire ADD CONSTRAINT FK_7A64DAFD079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE user_survey DROP CONSTRAINT FK_C80D80C161220EA6");
        $this->addSql("ALTER TABLE user_survey DROP CONSTRAINT FK_C80D80C1D079F553");
        $this->addSql("ALTER TABLE user_survey ADD CONSTRAINT FK_C80D80C161220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE user_survey ADD CONSTRAINT FK_C80D80C1D079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE role DROP CONSTRAINT FK_57698A6A61220EA6");
        $this->addSql("ALTER TABLE role DROP CONSTRAINT FK_57698A6AD079F553");
        $this->addSql("ALTER TABLE role ADD CONSTRAINT FK_57698A6A61220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE role ADD CONSTRAINT FK_57698A6AD079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE survey DROP CONSTRAINT FK_AD5F9BFC61220EA6");
        $this->addSql("ALTER TABLE survey DROP CONSTRAINT FK_AD5F9BFCD079F553");
        $this->addSql("ALTER TABLE survey ADD CONSTRAINT FK_AD5F9BFC61220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE survey ADD CONSTRAINT FK_AD5F9BFCD079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE permission DROP CONSTRAINT FK_E04992AA61220EA6");
        $this->addSql("ALTER TABLE permission DROP CONSTRAINT FK_E04992AAD079F553");
        $this->addSql("ALTER TABLE permission ADD CONSTRAINT FK_E04992AA61220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE permission ADD CONSTRAINT FK_E04992AAD079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE geoname DROP CONSTRAINT FK_EF41727A61220EA6");
        $this->addSql("ALTER TABLE geoname DROP CONSTRAINT FK_EF41727AD079F553");
        $this->addSql("ALTER TABLE geoname ADD CONSTRAINT FK_EF41727A61220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE geoname ADD CONSTRAINT FK_EF41727AD079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE \"user\" DROP CONSTRAINT FK_8D93D64961220EA6");
        $this->addSql("ALTER TABLE \"user\" DROP CONSTRAINT FK_8D93D649D079F553");
        $this->addSql("ALTER TABLE \"user\" ADD CONSTRAINT FK_8D93D64961220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE \"user\" ADD CONSTRAINT FK_8D93D649D079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE user_questionnaire DROP CONSTRAINT FK_E928E0FF61220EA6");
        $this->addSql("ALTER TABLE user_questionnaire DROP CONSTRAINT FK_E928E0FFD079F553");
        $this->addSql("ALTER TABLE user_questionnaire ADD CONSTRAINT FK_E928E0FF61220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE user_questionnaire ADD CONSTRAINT FK_E928E0FFD079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE filter DROP CONSTRAINT FK_7FC45F1D61220EA6");
        $this->addSql("ALTER TABLE filter DROP CONSTRAINT FK_7FC45F1DD079F553");
        $this->addSql("ALTER TABLE filter ADD CONSTRAINT FK_7FC45F1D61220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE filter ADD CONSTRAINT FK_7FC45F1DD079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE filter_set DROP CONSTRAINT FK_1C0A40E61220EA6");
        $this->addSql("ALTER TABLE filter_set DROP CONSTRAINT FK_1C0A40ED079F553");
        $this->addSql("ALTER TABLE filter_set ADD CONSTRAINT FK_1C0A40E61220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE filter_set ADD CONSTRAINT FK_1C0A40ED079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE question DROP CONSTRAINT FK_B6F7494E61220EA6");
        $this->addSql("ALTER TABLE question DROP CONSTRAINT FK_B6F7494ED079F553");
        $this->addSql("ALTER TABLE question ADD CONSTRAINT FK_B6F7494E61220EA6 FOREIGN KEY (creator_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
        $this->addSql("ALTER TABLE question ADD CONSTRAINT FK_B6F7494ED079F553 FOREIGN KEY (modifier_id) REFERENCES \"user\" (id) NOT DEFERRABLE INITIALLY IMMEDIATE");
    }

    public function down(Schema $schema)
    {
        $this->throwIrreversibleMigrationException();
    }

}
