<div class="container">

    <h2>
        <ul class="breadcrumb">
            <li><a href="/admin/survey">Surveys</a></li>
            <li><a href="/admin/survey/edit">{{survey.code}}</a></li>
            <li class="active">{{questionnaire.name}}</li>
        </ul>
    </h2>

    <form name="myForm">

        <?php echo $this->crudButtons('questionnaire'); ?>


        <tabs style="margin-top: 20px" active="panes[0].active">
            <pane heading="General info">
                <div class="control-group" ng-class="{error: myForm.geoname.$invalid}">
                    <label for="questionnaire.geoname">Spatial</label>
                    <input ui-select2="select2.country.list" ng-model="questionnaire.geoname"
                           data-placeholder="<?php echo $this->translate('Select a country') ?>" style="width: 556px"
                           required/>
                    <span ng-show="myForm.geoname.$error.required" class="help-inline">Required</span>
                </div>

                <div class="control-group" ng-class="{error: myForm.name.$invalid}">
                    <label for="questionnaire.name">Name</label>
                    <input id="questionnaire.name" type="text" name="name" ng-model="questionnaire.name" required class="span6"/>
                    <span ng-show="myForm.name.$error.required" class="help-inline">Required</span>
                </div>

                <div class="control-group input-append">

                    <div class="row-fluid">
                        <div class="span6">
                            <label for="survey.dateObservationStart">Date observation time</label>
                            <input id="survey.dateObservationStart" class="input-small" type="text" ng-model="survey.dateObservationStart"
                                   data-date-format="dd/mm/yyyy" bs-datepicker/>
                            <button type="button" class="btn" data-toggle="datepicker"><i class="icon-calendar"></i>
                            </button>
                        </div>
                        <div class="span6">
                            <label for="survey.dateObservationEnd">Date observation end</label>
                            <input id="survey.dateObservationEnd" class="input-small" type="text" ng-model="survey.dateObservationEnd"
                                   data-date-format="dd/mm/yyyy" bs-datepicker/>
                            <button type="button" class="btn" data-toggle="datepicker"><i class="icon-calendar"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </pane>
            <pane heading="Users">
                <div relations="{relation: 'UserQuestionnaire', first: 'questionnaire', second: 'user', third: 'role'}"></div>
            </pane>
        </tabs>

        {{questionnaire | json}}
    </form>

    <?php echo $this->metadata('questionnaire'); ?>
</div> <!-- /container -->
